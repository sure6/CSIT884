<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>week11-q2</title>
	</head>
	<body>
		<button onclick="defindAJAX('airport.json')">Search Airport</button> 
		<p></p>
		<div id="container">
			<p><b>searchQuery: </b><span id="sq"></span></p>
			<table id="tb">	
			</table>
		</div>
		<script type="text/javascript" src="defindAjax.js" ></script>
		<script>
			function handlerReponse(jsonStr){
				var jsonObj = JSON.parse(jsonStr);
				document.getElementById("sq").innerHTML=jsonObj.searchQuery
				var html = "<tr><th><b>Airport</b></th><th><b>ICAO</b></th><th><b>IATA</b></th><th><b>Location</b></th></tr>";
				var searchResult=jsonObj.searchResult
				for (var i=0; i<searchResult.length;i++) {
					html +="<tr>";
					html +="<td>"+searchResult[i].airportName+"</td>";
					html +="<td>"+searchResult[i].ICAO+"</td>";
					html +="<td>"+searchResult[i].IATA+"</td>";
					html +="<td>"+searchResult[i].city+", "+searchResult[i].country+"</td>";
					html +="</tr>";
				}
				document.getElementById("tb").border="1px";
				document.getElementById("tb").innerHTML=html;
			}
		</script>
	</body>
</html>
